#define __SYS_read 0
#define __SYS_write 1
#define __SYS_exit 60

int write(int fd, void *data, int len) {
    int ret;
    asm volatile(
        "syscall"
        : "=a"(ret)
        : "0"(__SYS_write), "D"(fd), "S"(data), "d"(len)
        : "cc", "rcx", "r11", "memory");
    return ret;
}

int read(int fd, void *data, int len) {
    int ret;
    asm volatile(
        "syscall"
        : "=a"(ret)
        : "0"(__SYS_read), "D"(fd), "S"(data), "d"(len)
        : "cc", "rcx", "r11", "memory");
    return ret;
}

void exit(int code) {
    int ret;
    asm volatile(
        "syscall"
        : "=a"(ret)
        : "0"(__SYS_exit), "D"(code)
        : "cc", "rcx", "r11", "memory");
}
